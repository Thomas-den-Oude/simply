<simply-center-page>
	@if (taskForm) {
		<form
			[formGroup]="taskForm"
			(ngSubmit)="submitTask()"
			class="page__content"
		>
			<mat-form-field simplySpaceContent="regular">
				<mat-label>Task title</mat-label>
				<input matInput formControlName="title" simplyFocusInput />
			</mat-form-field>

			<mat-form-field simplySpaceContent="regular">
				<mat-label>Task description</mat-label>
				<textarea
					cdkTextareaAutosize
					[cdkAutosizeMinRows]="textAreaMinRows()"
					[cdkAutosizeMaxRows]="textAreaMaxRows()"
					matInput
					formControlName="description"
				></textarea>
			</mat-form-field>

			@if (task) {
				<button
					type="button"
					mat-stroked-button
					class="simply-edit-task__button"
					color="primary"
					aria-label="Delete task"
					(click)="deleteTask()"
				>
					<mat-icon>delete</mat-icon>
					Delete
				</button>
			} @else {
				<button
					type="button"
					mat-stroked-button
					class="simply-edit-task__button"
					color="primary"
					(click)="cancel()"
				>
					Cancel
				</button>
			}
			<button
				type="submit"
				class="simply-edit-task__button"
				mat-flat-button
				color="primary"
			>
				Save
			</button>
		</form>
	}
</simply-center-page>
